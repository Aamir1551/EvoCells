!function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=1800,n=700;function r(t,e,o,i,n){return Math.pow(1-n,3)*t+3*n*Math.pow(1-n,2)*e+3*n*n*(1-n)*o+Math.pow(n,3)*i}e.getRandomPositionOnCanvas=function(){return[Math.random()*i,Math.random()*n]},e.bezierCurve=function(t,e,o,i,n){return[r(t[0],e[0],o[0],i[0],n),r(t[1],e[1],o[1],i[1],n)]},e.bezierCurveX=r,e.sineCircleXYatAngle=function(t,e,o,i,n,r){return{x:t+(o+i*Math.sin(r*n))*Math.cos(n),y:e+(o+i*Math.sin(r*n))*Math.sin(n)}},e.toRGB=function(t){return"RGB("+t[0].toString()+","+t[1].toString()+","+t[2].toString()+")"};var s=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.isInside=function(){return this.x>=h.borderLeft&&this.x<=h.borderRight&&this.y>=h.borderTop&&this.y<=h.borderBottom},t.prototype.distanceSquared=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t}();e.Point=s;var a=function(t,e,o,i){this.objectPointer=t,this.position=e,this.distance=o,this.velocity=i,this.colliding=!1};e.Vertex=a;var h=function(){function t(){}return t.TAU=2*Math.PI,t.square=50,t.width=i,t.height=n,t.mapwidth=100*t.square,t.mapheight=20*t.square,t.borderLeft=0,t.borderRight=t.mapwidth,t.borderTop=0,t.borderBottom=t.mapheight,t.center=new s(t.mapwidth/2,t.mapheight/2),t.directionX=0,t.directionY=0,t}();e.setUp=h},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(2),n=o(0),r=document.getElementsByTagName("canvas")[0],s=r.getContext("2d"),a=0,h=0,c=new n.Point(0,0),l=function(){function t(t,e,o){var i;void 0===t&&(t=[]),void 0===e&&(e=[]),this.ctx=o,this.food=[],this.cells=[],this.timeCounter=0,i=[t,e],this.food=i[0],this.cells=i[1]}return t.prototype.drawAllObjects=function(){for(var t=0;t<this.food.length;t++)this.food[t].draw(s);this.cells.sort((function(t,e){return e.size-t.size}));for(t=0;t<this.cells.length;t++)this.cells[t].draw(s)},t.prototype.detectAllCellCollisions=function(){var t;this.cells.forEach((function(t){return t.vertices.forEach((function(t){return t.colliding=!1}))}));for(var e=0;e<this.cells.length;e++)for(var o=this.cells[e],i=o.distanceThreshold,n=0;n<o.vertices.length;n++){var r=o.vertices[n];if(1!=r.colliding)if(r.position.isInside()){for(var s=0;s<this.food.length;s++){(c=r.position.distanceSquared(this.food[s].position))<=i&&(this.food.splice(s,1),o.eatFood(10))}for(s=e+1;s<this.cells.length;s++)for(var a=this.cells[s],h=0;h<a.vertices.length;h++){var c,l=a.vertices[h];(c=l.position.distanceSquared(r.position))<=i&&(t=[!0,!0],r.colliding=t[0],l.colliding=t[1]),c<=i/4&&o.size>1.2*a.size&&(o.eatFood(a.size*a.size*Math.PI),this.cells.splice(s,1))}}else r.colliding=!0}},t.prototype.drawBackground=function(){var t=new n.Point(n.setUp.center.x-n.setUp.width/2,n.setUp.center.y-n.setUp.height/2);s.beginPath(),s.fillStyle="white",s.rect(0,0,n.setUp.width,n.setUp.height),s.fill(),s.strokeStyle="lightgray",s.lineWidth=1,s.beginPath();for(var e=0;e<Math.floor(n.setUp.width/n.setUp.square)+1;e++){var o=e*n.setUp.square-t.x%n.setUp.square;s.moveTo(o,0),s.lineTo(o,n.setUp.height)}for(e=0;e<Math.floor(n.setUp.height/n.setUp.square)+1;e++){o=e*n.setUp.square-t.y%n.setUp.square;s.moveTo(0,o),s.lineTo(n.setUp.width,o)}s.stroke()},t.prototype.iterate=function(){var t=this;this.timeCounter+=.01,this.timeCounter>=1&&(this.cells.forEach((function(t){return t.updatePoints()})),this.timeCounter=0),this.cells.forEach((function(e){return e.moveXY(t.timeCounter)}));c=new n.Point(Math.max(Math.min(c.x+10*a,n.setUp.borderRight),n.setUp.borderLeft),Math.max(Math.min(c.y+10*h,n.setUp.borderBottom),n.setUp.borderTop)),n.setUp.center=c,this.drawBackground(),this.drawAllObjects(),this.detectAllCellCollisions()},t}();e.Environment=l;for(var d=new l([],[],s),p=0;p<30;p++)d.cells.push(new i.Cell(new n.Point(Math.random()*n.setUp.mapwidth,Math.random()*n.setUp.mapheight),50*Math.random()+70,[255*Math.random(),255*Math.random(),255*Math.random()]));for(p=0;p<50;p++)d.food.push(new i.Cell(new n.Point(Math.round((n.setUp.borderRight-n.setUp.borderLeft)*Math.random())+n.setUp.borderLeft-1,Math.round((n.setUp.borderBottom-n.setUp.borderTop)*Math.random())+n.setUp.borderTop-1),5,[0,0,0]));r.addEventListener("mousemove",(function(t){var e=[t.clientX-n.setUp.width/2,t.clientY-n.setUp.height/2],o=Math.sqrt(e[0]*e[0]+e[1]*e[1]),i=o<100?o/100:1;a=e[0]/o*i,h=e[1]/o*i,c=new n.Point(Math.max(Math.min(c.x+2*a,n.setUp.borderRight),n.setUp.borderLeft),Math.max(Math.min(c.y+2*h,n.setUp.borderBottom),n.setUp.borderTop)),console.log(c)})),function t(){if(d.iterate(),d.food.length<80)for(var e=0;e<200;e++)d.food.push(new i.Cell(new n.Point(Math.round((n.setUp.borderRight-n.setUp.borderLeft)*Math.random())+n.setUp.borderLeft-1,Math.round((n.setUp.borderBottom-n.setUp.borderTop)*Math.random())+n.setUp.borderTop-1),5,[0,0,0]));setTimeout(t,1e3/60)}()},function(t,e,o){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=o(0),s=function(t){function e(o,i,n){var s=t.call(this,o,n,i)||this;s.vertices=[],s.distanceThreshold=25,s.initialAngle=Math.random()*r.setUp.TAU,s.directionX=0,s.directionY=0,s.updatePoints(),s.cellID=e.cellCount;for(var a=0;a<Math.ceil(s.size);a++)s.vertices.push(new r.Vertex(s,s.position,s.size,Math.random()-.5));return e.cellCount++,s}return n(e,t),e.prototype.eatFood=function(t){this.size=Math.sqrt((Math.pow(this.size,2)*Math.PI+t)/Math.PI)},e.prototype.movePoints=function(){for(var t=this.vertices.length,e=0;e<this.vertices.length;e++){var o=[this.vertices[e],this.vertices[(e-1+t)%t],this.vertices[(e+1)%t]],i=o[0],n=o[1],s=o[2],a=(n.velocity+s.velocity+8*Math.min(Math.max(.7*(i.velocity+Math.random()-.5),-10),10))/10,h=this.vertices[e].colliding?Math.min(a,0)-1:a,c=(n.distance+s.distance+8*(9*Math.max(i.distance+a,0)+this.size)/10)/10,l=r.setUp.TAU*e/t+this.initialAngle;this.vertices[e]=new r.Vertex(this,new r.Point(this.position.x+Math.cos(l)*c,this.position.y+Math.sin(l)*c),c,h)}},e.prototype.updatePoints=function(){this.points=[r.getRandomPositionOnCanvas(),r.getRandomPositionOnCanvas(),r.getRandomPositionOnCanvas(),r.getRandomPositionOnCanvas()]},e.prototype.moveXY=function(t){var e=r.bezierCurve(this.points[0],this.points[1],this.points[2],this.points[3],t),o=e[0],i=e[1],n=[o-r.setUp.width/2,i-r.setUp.height/2],s=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=s<100?s/100:1;this.directionX=n[0]/s*a,this.directionY=n[1]/s*a,this.position=new r.Point(Math.max(Math.min(this.position.x+10*this.directionX,r.setUp.borderRight),r.setUp.borderLeft),Math.max(Math.min(this.position.y+10*this.directionY,r.setUp.borderBottom),r.setUp.borderTop))},e.cellCount=0,e}(o(3).GameObject);e.Cell=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(0),n=function(){function t(t,e,o){this.position=t,this.color=e,this.size=o}return t.prototype.draw=function(t){var e=new i.Point(i.setUp.center.x-i.setUp.width/2,i.setUp.center.y-i.setUp.height/2);this.movePoints(),t.fillStyle=i.toRGB(this.color),t.strokeStyle=i.toRGB(this.color),t.lineWidth=7;var o=this.vertices.length;t.beginPath();for(var n=0;n<o;n++){var r=this.vertices[n].distance,s=i.setUp.TAU*n/o+this.initialAngle;t.lineTo(this.position.x+Math.cos(s)*r-e.x,this.position.y+Math.sin(s)*r-e.y)}t.closePath(),t.fill(),t.stroke()},t}();e.GameObject=n}]);