{"code":"!function(t){var i={};function s(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=i,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&\"object\"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:t}),2&i&&\"string\"!=typeof t)for(var o in t)s.d(e,o,function(i){return t[i]}.bind(null,o));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,\"a\",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p=\"\",s(s.s=0)}([function(t,i,s){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var e,o=s(1),h=s(2),n=function(){function t(t,i){this.numCells=t,this.canvas=i,this.cells=[],this.petriDish=[];for(var s=0;s<t;s++)this.cells.push(new o.Cell([Math.random(),Math.random(),Math.random(),Math.random()],[\"#000000\",\"#FF0000\",\"#FFFF00\",\"#d54dff\"]));this.addFoodToPlace(100)}return t.prototype.addFoodToPlace=function(t){for(var i=0;i<t;i++){var s=[\"#000000\",\"#FF0000\",\"FFFF00\"][Math.round(2*Math.random())],e=h.getRandomPositionOnCanvas();this.petriDish.push([s,e[0],e[1],Math.random(),Math.random(),3*Math.random()+1])}},t.prototype.updatePetri=function(){for(var t=0;t<this.cells.length;t++)for(var i=0;i<this.petriDish.length;i++)Math.sqrt(Math.pow(this.cells[t].position[0]-this.petriDish[i][1],2)+Math.pow(this.cells[t].position[1]-this.petriDish[i][2],2))<this.cells[t].mass+4&&(this.cells[t].foodCollected++,this.petriDish.splice(i,1))},t.prototype.detectCollisions=function(){for(var t=[],i=0;i<this.cells.length-1;i++)for(var s=i+1;s<this.cells.length;s++)Math.sqrt(Math.pow(this.cells[i].position[0]-this.cells[s].position[0],2)+Math.pow(this.cells[i].position[1]-this.cells[s].position[1],2))-this.cells[i].mass-this.cells[s].mass<.4*-Math.min(this.cells[i].mass,this.cells[s].mass)&&t.push([this.cells[i],this.cells[s]]);return t},t.prototype.iterate=function(){this.canvas.getContext(\"2d\").fillStyle=\"#d2d6d6\",this.canvas.getContext(\"2d\").fillRect(0,0,this.canvas.width,this.canvas.height);var t=this.detectCollisions();this.updatePetri();for(var i=0;i<this.petriDish.length;i++){this.petriDish[i][1]+=this.petriDish[i][3],this.petriDish[i][2]+=this.petriDish[i][4],this.petriDish[i][1]>1800?this.petriDish[i][3]=-1:this.petriDish[i][1]<0?this.petriDish[i][3]=1:this.petriDish[i][3]*=1+.005*Math.random(),this.petriDish[i][2]>700?this.petriDish[i][4]=-1:this.petriDish[i][2]<0?this.petriDish[i][4]=1:this.petriDish[i][4]*=1+.005*Math.random();var s=this.canvas.getContext(\"2d\");s.beginPath(),s.arc(this.petriDish[i][1],this.petriDish[i][2],this.petriDish[i][5],0,2*Math.PI),s.fillStyle=this.petriDish[i][0],s.closePath(),s.fill()}for(i=0;i<this.cells.length;i++){if(this.cells[i].move(),this.cells[i].foodCollected>300){var e=this.cells[i].cellDivide(),h=e[0],n=e[1];this.cells.push(h),this.cells.push(n),this.cells.splice(i,1)}this.cells[i].isAlive?this.cells[i].draw(this.canvas):this.cells.splice(i,1)}for(i=0;i<t.length;i++)o.Cell.fight(t[i][0],t[i][1]);setTimeout(this.iterate.bind(this),1e3/60)},t}();e=document.getElementsByTagName(\"canvas\")[0],new n(10,e).iterate()},function(t,i,s){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var e=s(2),o=function(){function t(t,i){this.DNA=t,this.DNAcolors=i,this.health=100,this.foodCollected=50,this.DNAMagnitude=0,this.position=e.getRandomPositionOnCanvas(),this.isAlive=!0,this.covered=0,this.p0=this.position,this.p1=e.getRandomPositionOnCanvas(),this.p2=e.getRandomPositionOnCanvas(),this.p3=e.getRandomPositionOnCanvas(),this.color=\"#\"+((1<<24)*Math.random()|0).toString(16),this.mass=5;for(var s=0;s<this.DNA.length;s++)this.DNAMagnitude+=this.DNA[s];this.mass=5,this.targetMass=5,this.foodCollected=50}return t.prototype.useEnergy=function(){var t=this.DNA,i=t[0],s=t[1],e=t[2],o=t[3],h=this.foodCollected/this.DNAMagnitude*o;this.speed=i*h,this.immuneStrength=s*h,this.mass+=h*e,this.foodCollected-=.02},t.prototype.cellDivide=function(){var i=new t(this.DNA,this.DNAcolors),s=new t(this.DNA,this.DNAcolors);return i.mass=this.mass,s.mass=this.mass,i.targetMass=this.mass/2,s.targetMass=this.mass/2,i.foodCollected=this.foodCollected/2,s.foodCollected=this.foodCollected/2,i.position=this.position,s.position=this.position,this.isAlive=!1,[i,s]},t.prototype.eatCell=function(t){this.foodCollected+=t.getProteinValue(),t.isAlive=!1},t.prototype.draw=function(t){var i=t.getContext(\"2d\");i.beginPath();for(var s=0;s<360;s++){var o=s*Math.PI/180,h=e.sineCircleXYatAngle(this.position[0],this.position[1],this.mass,3+1.8*Math.random(),o,5);i.lineTo(h.x,h.y)}i.closePath(),i.stroke(),i.fillStyle=\"red\",i.fill(),i.lineWidth=27,i.strokeStyle=\"rgb(200, 0, 0)\"},t.prototype.drawDNA=function(t){for(var i=[0],s=0;s<this.DNA.length;s++)i.push(this.DNA[s]*Math.PI*2/this.DNAMagnitude+i[s]),this.drawBorder(t,this.DNAcolors[s],i[s],i[s+1],2)},t.prototype.drawBorder=function(t,i,s,e,o){void 0===s&&(s=0),void 0===e&&(e=2*Math.PI);var h=t.getContext(\"2d\");h.beginPath(),h.arc(this.position[0],this.position[1],this.mass,s,e),h.strokeStyle=i,h.lineWidth=o,h.stroke(),h.closePath()},t.fight=function(t,i){t.mass>2*i.mass?t.eatCell(i):i.mass>2*t.mass&&i.eatCell(t)},t.prototype.getProteinValue=function(){return.7*this.mass},t.prototype.move=function(){this.useEnergy(),this.isAlive=this.mass>=0,this.covered>.8&&(this.covered=0),this.mass+=.3*(this.targetMass-this.mass),0==this.covered&&(this.p0=this.position,this.p1=this.p3,this.p2=e.getRandomPositionOnCanvas(),this.p3=e.getRandomPositionOnCanvas()),this.covered+=.001*this.speed/this.mass,this.position=e.bezierCurve(this.p0,this.p1,this.p2,this.p3,this.covered)},t}();i.Cell=o},function(t,i,s){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var e=1800,o=700;function h(t,i,s,e,o){return Math.pow(1-o,3)*t+3*o*Math.pow(1-o,2)*i+3*o*o*(1-o)*s+Math.pow(o,3)*e}i.getRandomPositionOnCanvas=function(){return[Math.random()*e,Math.random()*o]},i.bezierCurve=function(t,i,s,e,o){return[h(t[0],i[0],s[0],e[0],o),h(t[1],i[1],s[1],e[1],o)]},i.bezierCurveX=h,i.sineCircleXYatAngle=function(t,i,s,e,o,h){return{x:t+(s+e*Math.sin(h*o))*Math.cos(o),y:i+(s+e*Math.sin(h*o))*Math.sin(o)}}}]);","extractedComments":[]}