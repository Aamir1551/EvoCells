{"code":"!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=0)}([function(t,e,i){\"use strict\";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,\"__esModule\",{value:!0});var r=i(1),s=document.getElementsByTagName(\"canvas\")[0],a=s.getContext(\"2d\"),h=function(){function t(t,e,i){this.position=t,this.color=e,this.size=i}return t.prototype.draw=function(){var t=new r.Point(setUp.center.x-setUp.width/2,setUp.center.y-setUp.height/2);this.movePoints(),a.fillStyle=r.toRGB(this.color),a.strokeStyle=r.toRGB(this.color),a.lineWidth=7;var e=this.vertices.length;a.beginPath();for(var i=0;i<e;i++){var n=this.vertices[i].distance,o=setUp.TAU*i/e+this.initialAngle;a.lineTo(this.position.x+Math.cos(o)*n-t.x,this.position.y+Math.sin(o)*n-t.y)}a.closePath(),a.fill(),a.stroke()},t}();e.GameObject=h;var c=function(t){function e(e,i){for(var n=t.call(this,e,i,5)||this,o=0;o<Math.ceil(n.size);o++)n.vertices.push(new r.Vertex(n,n.position,n.size,Math.random()-.5));return n.initialAngle=Math.random()*setUp.TAU,n}return o(e,t),e.prototype.movePoints=function(){},e}(h);e.Sugar=c;var u=function(t){function e(i,n,o){var s=t.call(this,i,o,n)||this;s.vertices=[],s.distanceThreshold=25,s.initialAngle=Math.random()*setUp.TAU,s.directionX=0,s.directionY=0,s.updatePoints(),s.cellID=e.cellCount;for(var a=0;a<Math.ceil(s.size);a++)s.vertices.push(new r.Vertex(s,s.position,s.size,Math.random()-.5));return e.cellCount++,s}return o(e,t),e.prototype.eatFood=function(t){this.size=Math.sqrt((Math.pow(this.size,2)*Math.PI+t)/Math.PI)},e.prototype.movePoints=function(){for(var t=this.vertices.length,e=[],i=0;i<this.vertices.length;i++){var n=this.vertices[i];e.push(new r.Vertex(n.objectPointer,new r.Point(n.position.x,n.position.y),n.distance,n.velocity)),e[i].colliding=n.colliding}for(var o=0;o<e.length;o++){var s=[this.vertices[o],this.vertices[(o-1+t)%t],this.vertices[(o+1)%t]],a=s[0],h=s[1],c=s[2],u=(h.velocity+c.velocity+8*Math.min(Math.max(.7*(a.velocity+Math.random()-.5),-10),10))/10,p=e[o].colliding?Math.min(u,0)-1:u,d=(h.distance+c.distance+8*(9*Math.max(a.distance+u,0)+this.size)/10)/10,l=setUp.TAU*o/t+this.initialAngle;this.vertices[o]=new r.Vertex(this,new r.Point(this.position.x+Math.cos(l)*d,this.position.y+Math.sin(l)*d),d,p)}},e.prototype.updatePoints=function(){this.points=[r.getRandomPositionOnCanvas(),r.getRandomPositionOnCanvas(),r.getRandomPositionOnCanvas(),r.getRandomPositionOnCanvas()]},e.prototype.moveXY=function(t){var e=r.bezierCurve(this.points[0],this.points[1],this.points[2],this.points[3],t),i=e[0],n=e[1],o=[i-setUp.width/2,n-setUp.height/2],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]),a=s<100?s/100:1;this.directionX=o[0]/s*a,this.directionY=o[1]/s*a;this.position=new r.Point(Math.max(Math.min(this.position.x+4*this.directionX,setUp.borderRight),setUp.borderLeft),Math.max(Math.min(this.position.y+4*this.directionY,setUp.borderBottom),setUp.borderTop))},e.cellCount=0,e}(h);e.Cell=u;for(var p=new Environment,d=0;d<10;d++)p.cells.push(new u(new r.Point(Math.random()*s.width,Math.random()*s.height),50*Math.random()+70,[255*Math.random(),255*Math.random(),255*Math.random()]));for(d=0;d<50;d++)p.food.push(new u(new r.Point(Math.round((setUp.borderRight-setUp.borderLeft)*Math.random())+setUp.borderLeft-1,Math.round((setUp.borderBottom-setUp.borderTop)*Math.random())+setUp.borderTop-1),5,[0,0,0]));!function t(){p.iterate(),setTimeout(t,1e3/60)}()},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=1800,o=700;function r(t,e,i,n,o){return Math.pow(1-o,3)*t+3*o*Math.pow(1-o,2)*e+3*o*o*(1-o)*i+Math.pow(o,3)*n}e.getRandomPositionOnCanvas=function(){return[Math.random()*n,Math.random()*o]},e.bezierCurve=function(t,e,i,n,o){return[r(t[0],e[0],i[0],n[0],o),r(t[1],e[1],i[1],n[1],o)]},e.bezierCurveX=r,e.sineCircleXYatAngle=function(t,e,i,n,o,r){return{x:t+(i+n*Math.sin(r*o))*Math.cos(o),y:e+(i+n*Math.sin(r*o))*Math.sin(o)}},e.toRGB=function(t){return\"RGB(\"+t[0].toString()+\",\"+t[1].toString()+\",\"+t[2].toString()+\")\"};var s=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.isInside=function(){return this.x>=h.borderLeft&&this.x<=h.borderRight&&this.y>=h.borderTop&&this.y<=h.borderBottom},t.prototype.distanceSquared=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t}();e.Point=s;var a=function(t,e,i,n){this.objectPointer=t,this.position=e,this.distance=i,this.velocity=n,this.colliding=!1};e.Vertex=a;var h=function(){function t(){}return t.TAU=2*Math.PI,t.square=50,t.width=canvas.width,t.height=canvas.height,t.mapwidth=t.width/t.square*t.square,t.mapheight=t.height/t.square*t.square,t.borderLeft=0,t.borderRight=t.mapwidth,t.borderTop=0,t.borderBottom=t.mapheight,t.center=new s(t.mapwidth/2,t.mapheight/2),t.directionX=0,t.directionY=0,t}();e.setUp=h}]);","extractedComments":[]}