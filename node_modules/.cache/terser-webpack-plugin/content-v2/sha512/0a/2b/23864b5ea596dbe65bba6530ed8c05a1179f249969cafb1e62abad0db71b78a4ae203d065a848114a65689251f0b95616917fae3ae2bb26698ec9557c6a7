{"code":"!function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=0)}([function(t,e,i){\"use strict\";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<i;e++)for(var n=arguments[e],s=0,h=n.length;s<h;s++,o++)r[o]=n[s];return r};Object.defineProperty(e,\"__esModule\",{value:!0});var o=i(1),n=document.getElementsByTagName(\"canvas\")[0],s=n.getContext(\"2d\"),h=function(){function t(){}return t.square=50,t.width=n.width,t.height=n.height,t.mapwidth=20*t.square,t.mapheight=20*t.square,t.borderLeft=0,t.borderRight=t.mapwidth,t.borderTop=0,t.borderBottom=t.mapheight,t.center=new o.Point(t.mapwidth/2,t.mapheight/2),t.directionX=0,t.directionY=0,t.allVertices=[],t}();e.setUp=h;var a=function(){function t(e,i,r){this.position=e,this.size=i,this.color=r,this.vertices=[],this.distanceThreshold=25,this.initialAngle=Math.random()*t.TAU,this.cellID=t.cellCount;for(var n=0;n<Math.ceil(this.size);n++)this.vertices.push(new o.Vertex(this.cellID,this.position,this.size,Math.random()-.5));t.cellCount++}return t.prototype.detectCollisionForVertex=function(t){if(0==t.position.isInside())return console.log(t.position.x,t.position.y),alert(\"yjj\"),!0;for(var e=0;e<h.allVertices.length;e++)if(t.position.distanceSquared(h.allVertices[e].position)<=this.distanceThreshold&&t.cellID!=this.cellID)return alert(\"jjj\"),!0;return!1},t.prototype.movePoints=function(){for(var e=this.vertices.length,i=[],n=0;n<this.vertices.length;n++){var s=this.vertices[n];i.push(new o.Vertex(s.cellID,new o.Point(s.position.x,s.position.y),s.distance,s.velocity))}for(var h=0;h<i.length;h++){var a=[this.vertices[h],this.vertices[(h-1+e)%e],this.vertices[(h+1)%e]],c=a[0],l=a[1],u=a[2],d=(l.velocity+u.velocity+8*Math.min(Math.max(.7*(c.velocity+Math.random()-.5),-10),10))/10,p=this.detectCollisionForVertex(i[h]);p&&alert(\"t\"+this.cellID+\" \"+r(this.vertices));var f=p?Math.min(d,0)-1:d,v=(l.distance+u.distance+8*(9*Math.max(c.distance+d,0)+this.size)/10)/10,y=t.TAU*h/e+this.initialAngle;this.vertices[h]=new o.Vertex(this.cellID,new o.Point(this.position.x+Math.cos(y)*v,this.position.y+Math.sin(y)*v),v,f)}},t.prototype.draw=function(){var e=new o.Point(h.center.x-h.width/2,h.center.y-h.height/2);this.movePoints(),s.fillStyle=o.toRGB(this.color),s.strokeStyle=o.toRGB(this.color),s.lineWidth=7;var i=this.vertices.length;s.beginPath();for(var r=0;r<i;r++){var n=this.vertices[r].distance,a=t.TAU*r/i+this.initialAngle;s.lineTo(this.position.x+Math.cos(a)*n-e.x,this.position.y+Math.sin(a)*n-e.y)}s.closePath(),s.fill(),s.stroke()},t.cellCount=0,t.TAU=2*Math.PI,t}();n.addEventListener(\"mousemove\",(function(t){var e=[t.clientX-h.width/2,t.clientY-h.height/2],i=Math.sqrt(e[0]*e[0]+e[1]*e[1]),r=i<100?i/100:1;h.directionX=e[0]/i*r,h.directionY=e[1]/i*r}));var c=new a(h.center,100,[255,0,0]),l=[];l.push(c);for(var u=0;u<50;u++)l.push(new a(new o.Point(Math.round((h.borderRight-h.borderLeft)*Math.random())+h.borderLeft-1,Math.round((h.borderBottom-h.borderTop)*Math.random())+h.borderTop-1),5,[0,0,0]));!function t(){var e;c.position=new o.Point(Math.max(Math.min(c.position.x+1*h.directionX,h.borderRight),h.borderLeft),Math.max(Math.min(c.position.y+1*h.directionY,h.borderBottom),h.borderTop)),h.center=c.position,function(){var t=new o.Point(h.center.x-h.width/2,h.center.y-h.height/2);s.beginPath(),s.fillStyle=\"white\",s.rect(0,0,h.width,h.height),s.fill(),s.strokeStyle=\"lightgray\",s.lineWidth=1,s.beginPath();for(var e=0;e<Math.floor(h.width/h.square)+1;e++){var i=e*h.square-t.x%h.square;s.moveTo(i,0),s.lineTo(i,h.height)}for(e=0;e<Math.floor(h.height/h.square)+1;e++){i=e*h.square-t.y%h.square;s.moveTo(0,i),s.lineTo(h.width,i)}s.stroke()}(),h.allVertices=[];for(var i=0;i<l.length;i++)(e=h.allVertices).push.apply(e,l[i].vertices);!function(){s.lineCap=\"round\",l.sort((function(t,e){return t.size>e.size?1:-1}));for(var t=0;t<l.length;t++)l[t].draw()}(),setTimeout(t,1e3/60)}()},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=i(0),o=1800,n=700;function s(t,e,i,r,o){return Math.pow(1-o,3)*t+3*o*Math.pow(1-o,2)*e+3*o*o*(1-o)*i+Math.pow(o,3)*r}e.getRandomPositionOnCanvas=function(){return[Math.random()*o,Math.random()*n]},e.bezierCurve=function(t,e,i,r,o){return[s(t[0],e[0],i[0],r[0],o),s(t[1],e[1],i[1],r[1],o)]},e.bezierCurveX=s,e.sineCircleXYatAngle=function(t,e,i,r,o,n){return{x:t+(i+r*Math.sin(n*o))*Math.cos(o),y:e+(i+r*Math.sin(n*o))*Math.sin(o)}},e.toRGB=function(t){return\"RGB(\"+t[0].toString()+\",\"+t[1].toString()+\",\"+t[2].toString()+\")\"};var h=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.isInside=function(){this.x>=r.setUp.borderLeft&&this.x<=r.setUp.borderRight&&this.y>=r.setUp.borderTop&&(this.y,r.setUp.borderBottom);return this.x>=r.setUp.borderLeft&&this.x<=r.setUp.borderRight&&this.y>=r.setUp.borderTop&&this.y<=r.setUp.borderBottom},t.prototype.distanceSquared=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t}();e.Point=h;var a=function(t,e,i,r){this.cellID=t,this.position=e,this.distance=i,this.velocity=r};e.Vertex=a}]);","extractedComments":[]}