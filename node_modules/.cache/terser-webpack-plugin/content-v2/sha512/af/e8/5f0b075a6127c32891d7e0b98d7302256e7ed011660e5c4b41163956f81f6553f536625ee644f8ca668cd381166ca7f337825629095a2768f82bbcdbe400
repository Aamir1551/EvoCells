{"code":"!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=0)}([function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=i(1),n=document.getElementsByTagName(\"canvas\")[0],o=n.getContext(\"2d\"),s=function(){function t(){}return t.square=50,t.width=n.width,t.height=n.height,t.mapwidth=t.width/t.square*t.square,t.mapheight=t.height/t.square*t.square,t.borderLeft=0,t.borderRight=t.mapwidth,t.borderTop=0,t.borderBottom=t.mapheight,t.center=new r.Point(t.mapwidth/2,t.mapheight/2),t.directionX=0,t.directionY=0,t.allVertices=[],t}();e.setUp=s;var h=function(){function t(e,i,n,o){void 0===o&&(o=\"food\"),this.position=e,this.size=i,this.color=n,this.cellType=o,this.vertices=[],this.distanceThreshold=25,this.initialAngle=Math.random()*t.TAU,this.cellID=t.cellCount;for(var s=0;s<Math.ceil(this.size);s++)this.vertices.push(new r.Vertex(this.cellID,this.position,this.size,Math.random()-.5));t.cellCount++}return t.prototype.detectCollisionForVertex=function(t){if(0==t.position.isInside())return!0;for(var e=0;e<s.allVertices.length;e++)if(t.position.distanceSquared(s.allVertices[e].position)<=this.distanceThreshold&&s.allVertices[e].cellID!=t.cellID)return!0;return!1},t.prototype.movePoints=function(){for(var e=this.vertices.length,i=[],n=0;n<this.vertices.length;n++){var o=this.vertices[n];i.push(new r.Vertex(o.cellID,new r.Point(o.position.x,o.position.y),o.distance,o.velocity))}for(var s=0;s<i.length;s++){var h=[this.vertices[s],this.vertices[(s-1+e)%e],this.vertices[(s+1)%e]],a=h[0],c=h[1],l=h[2],u=(c.velocity+l.velocity+8*Math.min(Math.max(.7*(a.velocity+Math.random()-.5),-10),10))/10,d=\"CELL\"==this.cellType&&this.detectCollisionForVertex(i[s])?Math.min(u,0)-1:u,f=(c.distance+l.distance+8*(9*Math.max(a.distance+u,0)+this.size)/10)/10,p=t.TAU*s/e+this.initialAngle;this.vertices[s]=new r.Vertex(this.cellID,new r.Point(this.position.x+Math.cos(p)*f,this.position.y+Math.sin(p)*f),f,d)}},t.prototype.draw=function(){var e=new r.Point(s.center.x-s.width/2,s.center.y-s.height/2);this.movePoints(),o.fillStyle=r.toRGB(this.color),o.strokeStyle=r.toRGB(this.color),o.lineWidth=7;var i=this.vertices.length;o.beginPath();for(var n=0;n<i;n++){var h=this.vertices[n].distance,a=t.TAU*n/i+this.initialAngle;o.lineTo(this.position.x+Math.cos(a)*h-e.x,this.position.y+Math.sin(a)*h-e.y)}o.closePath(),o.fill(),o.stroke()},t.cellCount=0,t.TAU=2*Math.PI,t}();function a(){return[n.width*Math.random(),n.height*Math.random()]}var c=[a(),a(),a(),a()],l=c[0],u=c[1],d=c[2],f=c[3];n.addEventListener(\"mousemove\",(function(t){var e;e=r.bezierCurve(l,u,d,f,m),cx=e[0],cy=e[1];var i=[t.clientX-s.width/2,t.clientY-s.height/2],n=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=n<100?n/100:1;s.directionX=i[0]/n*o,s.directionY=i[1]/n*o}));var p=new h(s.center,100,[255,0,0],\"CELL\"),v=[],g=[];v.push(p);for(var y=0;y<50;y++)g.push(new h(new r.Point(Math.round((s.borderRight-s.borderLeft)*Math.random())+s.borderLeft-1,Math.round((s.borderBottom-s.borderTop)*Math.random())+s.borderTop-1),5,[0,0,0]));var m=0;!function t(){var e,i,n;s.center=new r.Point(s.mapwidth/2,s.mapheight/2),p.position=new r.Point(s.directionX,s.directionY),e=r.bezierCurve(l,u,d,f,m),s.directionX=e[0],s.directionY=e[1],function(){var t=new r.Point(s.center.x-s.width/2,s.center.y-s.height/2);o.beginPath(),o.fillStyle=\"white\",o.rect(0,0,s.width,s.height),o.fill(),o.strokeStyle=\"lightgray\",o.lineWidth=1,o.beginPath();for(var e=0;e<Math.floor(s.width/s.square)+1;e++){var i=e*s.square-t.x%s.square;o.moveTo(i,0),o.lineTo(i,s.height)}for(e=0;e<Math.floor(s.height/s.square)+1;e++){i=e*s.square-t.y%s.square;o.moveTo(0,i),o.lineTo(s.width,i)}o.stroke()}(),s.allVertices=[];for(var h=0;h<g.length;h++)(i=s.allVertices).push.apply(i,g[h].vertices);for(h=0;h<v.length;h++)(n=s.allVertices).push.apply(n,v[h].vertices);!function(){o.lineCap=\"round\",v.sort((function(t,e){return t.size>e.size?1:-1}));for(var t=0;t<g.length;t++)g[t].draw();for(t=0;t<v.length;t++)v[t].draw()}(),setTimeout(t,1e3/60)}()},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=i(0),n=1800,o=700;function s(t,e,i,r,n){return Math.pow(1-n,3)*t+3*n*Math.pow(1-n,2)*e+3*n*n*(1-n)*i+Math.pow(n,3)*r}e.getRandomPositionOnCanvas=function(){return[Math.random()*n,Math.random()*o]},e.bezierCurve=function(t,e,i,r,n){return[s(t[0],e[0],i[0],r[0],n),s(t[1],e[1],i[1],r[1],n)]},e.bezierCurveX=s,e.sineCircleXYatAngle=function(t,e,i,r,n,o){return{x:t+(i+r*Math.sin(o*n))*Math.cos(n),y:e+(i+r*Math.sin(o*n))*Math.sin(n)}},e.toRGB=function(t){return\"RGB(\"+t[0].toString()+\",\"+t[1].toString()+\",\"+t[2].toString()+\")\"};var h=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.isInside=function(){return this.x>=r.setUp.borderLeft&&this.x<=r.setUp.borderRight&&this.y>=r.setUp.borderTop&&this.y<=r.setUp.borderBottom},t.prototype.distanceSquared=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t}();e.Point=h;var a=function(t,e,i,r){this.cellID=t,this.position=e,this.distance=i,this.velocity=r};e.Vertex=a}]);","extractedComments":[]}