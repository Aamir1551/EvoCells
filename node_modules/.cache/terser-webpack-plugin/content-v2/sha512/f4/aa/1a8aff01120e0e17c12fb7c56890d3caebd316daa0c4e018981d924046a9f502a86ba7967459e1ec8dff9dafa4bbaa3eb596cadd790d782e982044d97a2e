{"code":"!function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=0)}([function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=r(1),o=document.getElementsByTagName(\"canvas\")[0],n=o.getContext(\"2d\"),s=function(){function t(){}return t.square=50,t.width=o.width,t.height=o.height,t.mapwidth=t.width/t.square*t.square,t.mapheight=t.height/t.square*t.square,t.borderLeft=0,t.borderRight=t.mapwidth,t.borderTop=0,t.borderBottom=t.mapheight,t.center=new i.Point(t.mapwidth/2,t.mapheight/2),t.directionX=0,t.directionY=0,t.allVertices=[],t}();e.setUp=s;var a=function(){function t(e,r,o,n){void 0===n&&(n=\"food\"),this.position=e,this.size=r,this.color=o,this.cellType=n,this.vertices=[],this.distanceThreshold=25,this.initialAngle=Math.random()*t.TAU,this.cellID=t.cellCount;for(var s=0;s<Math.ceil(this.size);s++)this.vertices.push(new i.Vertex(this.cellID,this.position,this.size,Math.random()-.5));t.cellCount++}return t.prototype.detectCollisionForVertex=function(t){if(0==t.position.isInside())return!0;for(var e=0;e<s.allVertices.length;e++)if(t.position.distanceSquared(s.allVertices[e].position)<=this.distanceThreshold&&s.allVertices[e].cellID!=t.cellID)return!0;return!1},t.prototype.movePoints=function(){for(var e=this.vertices.length,r=[],o=0;o<this.vertices.length;o++){var n=this.vertices[o];r.push(new i.Vertex(n.cellID,new i.Point(n.position.x,n.position.y),n.distance,n.velocity))}for(var s=0;s<r.length;s++){var a=[this.vertices[s],this.vertices[(s-1+e)%e],this.vertices[(s+1)%e]],h=a[0],c=a[1],l=a[2],d=(c.velocity+l.velocity+8*Math.min(Math.max(.7*(h.velocity+Math.random()-.5),-10),10))/10,u=\"CELL\"==this.cellType&&this.detectCollisionForVertex(r[s])?Math.min(d,0)-1:d,p=(c.distance+l.distance+8*(9*Math.max(h.distance+d,0)+this.size)/10)/10,f=t.TAU*s/e+this.initialAngle;this.vertices[s]=new i.Vertex(this.cellID,new i.Point(this.position.x+Math.cos(f)*p,this.position.y+Math.sin(f)*p),p,u)}},t.prototype.draw=function(){var e=new i.Point(s.center.x-s.width/2,s.center.y-s.height/2);this.movePoints(),n.fillStyle=i.toRGB(this.color),n.strokeStyle=i.toRGB(this.color),n.lineWidth=7;var r=this.vertices.length;n.beginPath();for(var o=0;o<r;o++){var a=this.vertices[o].distance,h=t.TAU*o/r+this.initialAngle;n.lineTo(this.position.x+Math.cos(h)*a-e.x,this.position.y+Math.sin(h)*a-e.y)}n.closePath(),n.fill(),n.stroke()},t.cellCount=0,t.TAU=2*Math.PI,t}();function h(){return[Math.round((s.borderRight-s.borderLeft)*Math.random())+s.borderLeft-1,Math.round((s.borderBottom-s.borderTop)*Math.random())+s.borderTop-1]}o.addEventListener(\"mousemove\",(function(t){d.push(new a(new i.Point(Math.round((s.borderRight-s.borderLeft)*Math.random())+s.borderLeft-1,Math.round((s.borderBottom-s.borderTop)*Math.random())+s.borderTop-1),5,[0,0,0])),i.bezierCurve(h(),h(),h(),h(),cc)[0]}));var c=new a(s.center,100,[255,0,0],\"CELL\"),l=[],d=[];l.push(c);for(var u=0;u<50;u++)d.push(new a(new i.Point(Math.round((s.borderRight-s.borderLeft)*Math.random())+s.borderLeft-1,Math.round((s.borderBottom-s.borderTop)*Math.random())+s.borderTop-1),5,[0,0,0]));!function t(){var e,r;c.position=new i.Point(Math.max(Math.min(c.position.x+10*s.directionX,s.borderRight),s.borderLeft),Math.max(Math.min(c.position.y+10*s.directionY,s.borderBottom),s.borderTop)),s.center=new i.Point(s.mapwidth/2,s.mapheight/2),function(){var t=new i.Point(s.center.x-s.width/2,s.center.y-s.height/2);n.beginPath(),n.fillStyle=\"white\",n.rect(0,0,s.width,s.height),n.fill(),n.strokeStyle=\"lightgray\",n.lineWidth=1,n.beginPath();for(var e=0;e<Math.floor(s.width/s.square)+1;e++){var r=e*s.square-t.x%s.square;n.moveTo(r,0),n.lineTo(r,s.height)}for(e=0;e<Math.floor(s.height/s.square)+1;e++){r=e*s.square-t.y%s.square;n.moveTo(0,r),n.lineTo(s.width,r)}n.stroke()}(),s.allVertices=[];for(var o=0;o<d.length;o++)(e=s.allVertices).push.apply(e,d[o].vertices);for(o=0;o<l.length;o++)(r=s.allVertices).push.apply(r,l[o].vertices);!function(){n.lineCap=\"round\",l.sort((function(t,e){return t.size>e.size?1:-1}));for(var t=0;t<d.length;t++)d[t].draw();for(t=0;t<l.length;t++)l[t].draw()}(),setTimeout(t,1e3/60)}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=r(0),o=1800,n=700;function s(t,e,r,i,o){return Math.pow(1-o,3)*t+3*o*Math.pow(1-o,2)*e+3*o*o*(1-o)*r+Math.pow(o,3)*i}e.getRandomPositionOnCanvas=function(){return[Math.random()*o,Math.random()*n]},e.bezierCurve=function(t,e,r,i,o){return[s(t[0],e[0],r[0],i[0],o),s(t[1],e[1],r[1],i[1],o)]},e.bezierCurveX=s,e.sineCircleXYatAngle=function(t,e,r,i,o,n){return{x:t+(r+i*Math.sin(n*o))*Math.cos(o),y:e+(r+i*Math.sin(n*o))*Math.sin(o)}},e.toRGB=function(t){return\"RGB(\"+t[0].toString()+\",\"+t[1].toString()+\",\"+t[2].toString()+\")\"};var a=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.isInside=function(){return this.x>=i.setUp.borderLeft&&this.x<=i.setUp.borderRight&&this.y>=i.setUp.borderTop&&this.y<=i.setUp.borderBottom},t.prototype.distanceSquared=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t}();e.Point=a;var h=function(t,e,r,i){this.cellID=t,this.position=e,this.distance=r,this.velocity=i};e.Vertex=h}]);","extractedComments":[]}