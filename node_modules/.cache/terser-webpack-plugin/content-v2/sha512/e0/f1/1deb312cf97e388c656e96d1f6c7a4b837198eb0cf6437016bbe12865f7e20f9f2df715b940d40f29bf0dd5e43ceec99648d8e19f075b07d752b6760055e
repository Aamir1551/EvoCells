{"code":"!function(t){var s={};function i(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=s,i.d=function(t,s,e){i.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&\"object\"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:t}),2&s&&\"string\"!=typeof t)for(var o in t)i.d(e,o,function(s){return t[s]}.bind(null,o));return e},i.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(s,\"a\",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.p=\"\",i(i.s=0)}([function(t,s,i){\"use strict\";Object.defineProperty(s,\"__esModule\",{value:!0});var e,o=i(1),h=i(2),n=function(){function t(t,s){this.numCells=t,this.canvas=s,this.cells=[],this.petriDish=[];for(var i=0;i<t;i++)this.cells.push(new o.Cell([Math.random(),Math.random(),Math.random(),Math.random()],[\"#000000\",\"#FF0000\",\"#FFFF00\",\"#d54dff\"]));this.addFoodToPlace(100)}return t.prototype.addFoodToPlace=function(t){for(var s=0;s<t;s++){var i=[\"#000000\",\"#FF0000\",\"FFFF00\"][Math.round(2*Math.random())],e=h.getRandomPositionOnCanvas();this.petriDish.push([i,e[0],e[1],Math.random(),Math.random(),3*Math.random()+1])}},t.prototype.updatePetri=function(){for(var t=0;t<this.cells.length;t++)for(var s=0;s<this.petriDish.length;s++)Math.sqrt(Math.pow(this.cells[t].position[0]-this.petriDish[s][1],2)+Math.pow(this.cells[t].position[1]-this.petriDish[s][2],2))<this.cells[t].mass+4&&(this.cells[t].foodCollected++,this.petriDish.splice(s,1))},t.prototype.detectCollisions=function(){for(var t=[],s=0;s<this.cells.length-1;s++)for(var i=s+1;i<this.cells.length;i++)Math.sqrt(Math.pow(this.cells[s].position[0]-this.cells[i].position[0],2)+Math.pow(this.cells[s].position[1]-this.cells[i].position[1],2))-this.cells[s].mass-this.cells[i].mass<.4*-Math.min(this.cells[s].mass,this.cells[i].mass)&&t.push([this.cells[s],this.cells[i]]);return t},t.prototype.iterate=function(){this.canvas.getContext(\"2d\").fillStyle=\"#d2d6d6\",this.canvas.getContext(\"2d\").fillRect(0,0,this.canvas.width,this.canvas.height);var t=this.detectCollisions();this.updatePetri();for(var s=0;s<this.petriDish.length;s++){this.petriDish[s][1]+=this.petriDish[s][3],this.petriDish[s][2]+=this.petriDish[s][4],this.petriDish[s][1]>1800?this.petriDish[s][3]=-1:this.petriDish[s][1]<0?this.petriDish[s][3]=1:this.petriDish[s][3]*=1+.005*Math.random(),this.petriDish[s][2]>700?this.petriDish[s][4]=-1:this.petriDish[s][2]<0?this.petriDish[s][4]=1:this.petriDish[s][4]*=1+.005*Math.random();var i=this.canvas.getContext(\"2d\");i.beginPath(),i.arc(this.petriDish[s][1],this.petriDish[s][2],this.petriDish[s][5],0,2*Math.PI),i.fillStyle=this.petriDish[s][0],i.closePath(),i.fill()}for(s=0;s<this.cells.length;s++){if(this.cells[s].move(),this.cells[s].foodCollected>300){var e=this.cells[s].cellDivide(),h=e[0],n=e[1];this.cells.push(h),this.cells.push(n),this.cells.splice(s,1)}this.cells[s].isAlive?this.cells[s].draw(this.canvas):this.cells.splice(s,1)}for(s=0;s<t.length;s++)o.Cell.fight(t[s][0],t[s][1]);setTimeout(this.iterate.bind(this),1e3/60)},t}();e=document.getElementsByTagName(\"canvas\")[0],new n(10,e).iterate()},function(t,s,i){\"use strict\";Object.defineProperty(s,\"__esModule\",{value:!0});var e=i(2),o=function(){function t(t,s){this.DNA=t,this.DNAcolors=s,this.health=100,this.foodCollected=50,this.DNAMagnitude=0,this.position=e.getRandomPositionOnCanvas(),this.isAlive=!0,this.covered=0,this.p0=this.position,this.p1=e.getRandomPositionOnCanvas(),this.p2=e.getRandomPositionOnCanvas(),this.p3=e.getRandomPositionOnCanvas(),this.color=[255*Math.random(),255*Math.random(),255*Math.random()],this.mass=5;for(var i=0;i<this.DNA.length;i++)this.DNAMagnitude+=this.DNA[i];this.mass=50,this.targetMass=50,this.foodCollected=50}return t.prototype.useEnergy=function(){var t=this.DNA,s=t[0],i=t[1],e=t[2],o=t[3],h=this.foodCollected/this.DNAMagnitude*o;this.speed=s*h,this.immuneStrength=i*h,this.mass=Math.sqrt(h)*e,this.foodCollected-=.02},t.prototype.cellDivide=function(){var s=new t(this.DNA,this.DNAcolors),i=new t(this.DNA,this.DNAcolors);return s.mass=this.mass,i.mass=this.mass,s.targetMass=this.mass/2,i.targetMass=this.mass/2,s.foodCollected=this.foodCollected/2,i.foodCollected=this.foodCollected/2,s.position=this.position,i.position=this.position,this.isAlive=!1,[s,i]},t.prototype.eatCell=function(t){this.foodCollected+=t.getProteinValue(),t.isAlive=!1},t.prototype.draw=function(t){var s=t.getContext(\"2d\");s.beginPath();for(var i=0;i<360;i++){var o=i*Math.PI/180,h=e.sineCircleXYatAngle(this.position[0],this.position[1],this.mass,(3+1.8*Math.random())/100*this.mass,o,5);s.lineTo(h.x,h.y)}s.closePath(),s.stroke(),s.fillStyle=\"rgb(\"+this.color[0]+\",\"+this.color[1]+\",\"+this.color[2]+\")\",s.fill(),s.lineWidth=.27*this.mass,s.strokeStyle=\"rgb(\"+.95*this.color[0]+\",\"+.95*this.color[1]+\",\"+.95*this.color[2]+\")\"},t.prototype.drawDNA=function(t){for(var s=[0],i=0;i<this.DNA.length;i++)s.push(this.DNA[i]*Math.PI*2/this.DNAMagnitude+s[i]),this.drawBorder(t,this.DNAcolors[i],s[i],s[i+1],2)},t.prototype.drawBorder=function(t,s,i,e,o){void 0===i&&(i=0),void 0===e&&(e=2*Math.PI);var h=t.getContext(\"2d\");h.beginPath(),h.arc(this.position[0],this.position[1],this.mass,i,e),h.strokeStyle=s,h.lineWidth=o,h.stroke(),h.closePath()},t.fight=function(t,s){t.mass>1*s.mass?t.eatCell(s):s.mass>1*t.mass&&s.eatCell(t)},t.prototype.getProteinValue=function(){return.7*this.mass},t.prototype.move=function(){this.useEnergy(),this.isAlive=this.mass>0&&this.targetMass>0,this.covered>.8&&(this.covered=0),this.mass+=.9*(this.targetMass-this.mass),0==this.covered&&(this.p0=this.position,this.p1=this.p3,this.p2=e.getRandomPositionOnCanvas(),this.p3=e.getRandomPositionOnCanvas()),this.covered+=.001*this.speed/this.mass,this.position=e.bezierCurve(this.p0,this.p1,this.p2,this.p3,this.covered)},t}();s.Cell=o},function(t,s,i){\"use strict\";Object.defineProperty(s,\"__esModule\",{value:!0});var e=1800,o=700;function h(t,s,i,e,o){return Math.pow(1-o,3)*t+3*o*Math.pow(1-o,2)*s+3*o*o*(1-o)*i+Math.pow(o,3)*e}s.getRandomPositionOnCanvas=function(){return[Math.random()*e,Math.random()*o]},s.bezierCurve=function(t,s,i,e,o){return[h(t[0],s[0],i[0],e[0],o),h(t[1],s[1],i[1],e[1],o)]},s.bezierCurveX=h,s.sineCircleXYatAngle=function(t,s,i,e,o,h){return{x:t+(i+e*Math.sin(h*o))*Math.cos(o),y:s+(i+e*Math.sin(h*o))*Math.sin(o)}}}]);","extractedComments":[]}